

<!DOCTYPE html>
<html lang="zh-CN">
<head>
    
    <meta name="author" content="Minary">
    
    <meta name="description" content="Description:题目链接I’m sure, you know Google’s “Did you mean …?”, when you entered a search term and mistyped a word. In this kata we want to implement s">
    
    

    
    
    

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Codewars#Did you mean ...? | Minary · (　･ิω･ิ)ノิ  ╰(*°▽°*)╯ (❁´▽`❁)</title>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="/bootstrap/css/bootstrap.min.css" type="text/css">
    <link rel="stylesheet" href="/css/style.css" type="text/css">

    <!-- Javascript -->
    <script src="/js/jquery-2.1.0.min.js"></script>
    <script src="/js/jquery.backstretch.min.js"></script>
    <script src="/bootstrap/js/bootstrap.min.js"></script>
    <script src="/js/headroom.min.js"></script>
    <script src="/js/jquery.headroom.min.js"></script> 
    <script src="/js/common.js"></script>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>
<body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-inverse" role="banner">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="http://f10.moe" title="Minary">Minary</a>
            </div>

            <div role="navigation" class="collapse navbar-collapse bs-navbar-collapse">
                <p class="navbar-text pull-right">(　･ิω･ิ)ノิ  ╰(*°▽°*)╯ (❁´▽`❁)</p>

                <ul class="nav navbar-nav">
                    
                    <li id="nav-index"><a href="/">首页</a></li>
                    
                    <li id="nav-archives"><a href="/archives">归档</a></li>
                    
                    <li id="nav-tags"><a href="/tags">标签</a></li>
                    
                    <li id="nav-links"><a href="/links">链接</a></li>
                    
                    <li id="nav-163blog"><a href="http://minary.blog.163.com/">舊博客</a></li>
                    
                    <li id="nav-curriculumvitae"><a href="/curriculumvitae">关于</a></li>
                    
                    
                    <li><a href="https://github.com/Amunu" target="_blank">GitHub</a></li>
                </ul>
            </div>
        </div>
    </nav>
    
    <script>
    var backRoot = "/images/background/";
    var backArray = [ "1.jpeg", "2.jpeg", "3.jpeg", "4.jpeg", "5.jpeg", "6.jpg", "7.jpg", "8.jpeg", "9.jpeg", "10.jpg", "11.jpg", "12.jpg", "14.jpeg", "15.jpeg", "16.jpeg", "17.jpg", "18.jpg", "19.jpeg", "20.jpg", "21.jpg", "22.jpg", "23.jpg", "24.jpg",  ];
    //console.log(backArray);
        
    $(function() {
        // page-id...
        var pageId = "2014/10/15/Did-you-mean/";
        pageId = pageId.substr(0, pageId.indexOf("/"));
        if(pageId === "") pageId = "index";
        
        $("#nav-" + pageId).addClass("active");
    });
    </script>
    <article class="post container">
    <div class="well post-body first-post last-post">
        <h1>Codewars#Did you mean ...?</h1>
        
        <div class="time-info">
发表于:<time datetime="2014-10-15T10:11:47.000Z" itemprop="datePublished">2014年10月15日</time>,
更新于:<time datetime="2015-06-08T03:37:36.000Z" itemprop="dateModified">2015年06月08日</time>,
By <a href="http://f10.moe" title="Minary">Minary</a>
        </div>
        
        <div class="post-body-inner">
            <div id="toc" class="toc-article well">
                <strong class="toc-title">大纲</strong>
                <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Description:"><span class="toc-number">1.</span> <span class="toc-text">Description:</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Code_Examples:"><span class="toc-number">2.</span> <span class="toc-text">Code Examples:</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Additional_notes:"><span class="toc-number">3.</span> <span class="toc-text">Additional notes:</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Solutions:"><span class="toc-number">4.</span> <span class="toc-text">Solutions:</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Demo:"><span class="toc-number">5.</span> <span class="toc-text">Demo:</span></a></li></ol>
            </div>
            
            <h2 id="Description:">Description:</h2><p><a href="http://www.codewars.com/kata/5259510fc76e59579e0009d4" target="_blank" rel="external">题目链接</a><br>I’m sure, you know Google’s “Did you mean …?”, when you entered a search term and mistyped a word. In this kata we want to implement something similar.</p>
<p>You’ll get an entered term (lowercase string) and an array of known words (also lowercase strings). Your task is to find out, which word from the dictionary is most similar to the entered one. The similarity is described by the minimum number of letters you have to add, remove or replace in order to get from the entered word to one of the dictionary. The lower the number of required changes, the higher the similarity between each two words.</p>
<p>Same words are obviously the most similar ones. A word that needs one letter to be changed is more similar to another word that needs 2 (or more) letters to be changed. E.g. the mistyped term berr is more similar to beer (1 letter to be replaced) than to barrel (3 letters to be changed in total).</p>
<p>Extend the dictionary in a way, that it is able to return you the most similar word from the list of known words.</p>
<h2 id="Code_Examples:">Code Examples:</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fruits = new Dictionary([&#39;cherry&#39;, &#39;pineapple&#39;, &#39;melon&#39;, &#39;strawberry&#39;, &#39;raspberry&#39;]);&#10;fruits.findMostSimilar(&#39;strawbery&#39;); // must return &#34;strawberry&#34;&#10;fruits.findMostSimilar(&#39;berry&#39;); // must return &#34;cherry&#34;&#10;---&#10;things = new Dictionary([&#39;stars&#39;, &#39;mars&#39;, &#39;wars&#39;, &#39;codec&#39;, &#39;codewars&#39;]);&#10;things.findMostSimilar(&#39;coddwars&#39;); // must return &#34;codewars&#34;&#10;---&#10;languages = new Dictionary([&#39;javascript&#39;, &#39;java&#39;, &#39;ruby&#39;, &#39;php&#39;, &#39;python&#39;, &#39;coffeescript&#39;]);&#10;languages.findMostSimilar(&#39;heaven&#39;); // must return &#34;java&#34;&#10;languages.findMostSimilar(&#39;javascript&#39;); // must return &#34;javascript&#34; (same words are obviously the most similar ones)&#10;I know, many of you would disagree that java is more similar to heaven than all the other ones, but in this kata it is ;)</span><br></pre></td></tr></table></figure>
<h2 id="Additional_notes:">Additional notes:</h2><p>there is always exactly one possible solution</p>
<h2 id="Solutions:">Solutions:</h2><p>解决这题的方法是用一个已经存在的算法， 叫做Levenshtein距离，又称<a href="http://en.wikipedia.org/wiki/Levenshtein_distance" target="_blank" rel="external">编辑距离</a> 。</p>
<p>具体的步骤就是：（假设两个字符串为 ‘heaven’ ，’java’）</p>
<p> <strong>1.建一个二位数组， 如下表所示：</strong></p>
<table class="table table-striped-white table-bordered"><thead><tr><th>0</th><th style="text-align:center;">j(1)</th><th style="text-align:center;">a(2)</th><th style="text-align:center;">v(3)</th><th>a(4)</th></tr></thead><tbody><tr><td>h(1)</td><td style="text-align:center;"></td><td style="text-align:center;"></td><td style="text-align:center;"></td><td></td></tr><tr><td>e(2)</td><td style="text-align:center;"></td><td style="text-align:center;"></td><td style="text-align:center;"></td><td></td></tr><tr><td>a(3)</td><td style="text-align:center;"></td><td style="text-align:center;"></td><td style="text-align:center;"></td><td></td></tr><tr><td>v(4)</td><td style="text-align:center;"></td><td style="text-align:center;"></td><td style="text-align:center;"></td><td></td></tr><tr><td>e(5)</td><td style="text-align:center;"></td><td style="text-align:center;"></td><td style="text-align:center;"></td><td></td></tr><tr><td>n(6)</td><td style="text-align:center;"></td><td style="text-align:center;"></td><td style="text-align:center;"></td><td></td></tr></tbody></table>

<p> <strong>2.第二步见下图：</strong></p>
<table class="table table-striped-white table-bordered"><thead><tr><th>0</th><th style="text-align:center;">j(1)</th><th style="text-align:center;">a(2)</th><th style="text-align:center;">v(3)</th><th>a(4)</th></tr></thead><tbody><tr><td>h(1)</td><td style="text-align:center;">A</td><td style="text-align:center;"></td><td style="text-align:center;"></td><td></td></tr><tr><td>e(2)</td><td style="text-align:center;"></td><td style="text-align:center;"></td><td style="text-align:center;"></td><td></td></tr><tr><td>a(3)</td><td style="text-align:center;"></td><td style="text-align:center;"></td><td style="text-align:center;"></td><td></td></tr><tr><td>v(4)</td><td style="text-align:center;"></td><td style="text-align:center;"></td><td style="text-align:center;"></td><td></td></tr><tr><td>e(5)</td><td style="text-align:center;"></td><td style="text-align:center;"></td><td style="text-align:center;"></td><td></td></tr><tr><td>n(6)</td><td style="text-align:center;"></td><td style="text-align:center;"></td><td style="text-align:center;"></td><td></td></tr></tbody></table>

<p>这时需要算出A的值，若A的左边和A的上边对应的字母不一致， 像上表的 ‘h’ 和 ‘j’ ，则取&lt; <em>斜上角的数值 + 1</em> ， 上面的 <em>数值 + 1</em> , 左边的 <em>数值 + 1</em> &gt; ， 取三个数之间的最小数。   </p>
<p>得出下表的解：(0 + 1 &lt; 1 + 1 &lt;= 1 + 1)</p>
<table class="table table-striped-white table-bordered"><thead><tr><th>0</th><th style="text-align:center;">j(1)</th><th style="text-align:center;">a(2)</th><th style="text-align:center;">v(3)</th><th>a(4)</th></tr></thead><tbody><tr><td>h(1)</td><td style="text-align:center;">1</td><td style="text-align:center;"></td><td style="text-align:center;"></td><td></td></tr><tr><td>e(2)</td><td style="text-align:center;"></td><td style="text-align:center;"></td><td style="text-align:center;"></td><td></td></tr><tr><td>a(3)</td><td style="text-align:center;"></td><td style="text-align:center;"></td><td style="text-align:center;"></td><td></td></tr><tr><td>v(4)</td><td style="text-align:center;"></td><td style="text-align:center;"></td><td style="text-align:center;"></td><td></td></tr><tr><td>e(5)</td><td style="text-align:center;"></td><td style="text-align:center;"></td><td style="text-align:center;"></td><td></td></tr><tr><td>n(6)</td><td style="text-align:center;"></td><td style="text-align:center;"></td><td style="text-align:center;"></td><td></td></tr></tbody></table>

<p> <strong>3.一直按照第 2 步执行下来，可得下面这张表：</strong></p>
<table class="table table-striped-white table-bordered"><thead><tr><th>0</th><th style="text-align:center;">j(1)</th><th style="text-align:center;">a(2)</th><th style="text-align:center;">v(3)</th><th>a(4)</th></tr></thead><tbody><tr><td>h(1)</td><td style="text-align:center;">1</td><td style="text-align:center;">2</td><td style="text-align:center;"></td><td></td></tr><tr><td>e(2)</td><td style="text-align:center;">2</td><td style="text-align:center;">2</td><td style="text-align:center;"></td><td></td></tr><tr><td>a(3)</td><td style="text-align:center;">3</td><td style="text-align:center;">B</td><td style="text-align:center;"></td><td></td></tr><tr><td>v(4)</td><td style="text-align:center;">4</td><td style="text-align:center;"></td><td style="text-align:center;"></td><td></td></tr><tr><td>e(5)</td><td style="text-align:center;">5</td><td style="text-align:center;"></td><td style="text-align:center;"></td><td></td></tr><tr><td>n(6)</td><td style="text-align:center;">6</td><td style="text-align:center;"></td><td style="text-align:center;"></td><td></td></tr></tbody></table>

<p>当执行到B时，java 的 ‘a’ 与 ‘heaven’ 的 ‘a’ 相等。</p>
<p>这时B的值，则取&lt; <em>斜上角的数值 + 0</em> ， 上面的 <em>数值 + 1</em> , 左边的 <em>数值 + 1</em> &gt; ， 取三个数之间的最小数。  也就是 min (2 + 0, 2 + 1， 3 + 1) ， 也就是 B = 2 。</p>
<p><strong>最终效果：</strong></p>
<table class="table table-striped-white table-bordered"><thead><tr><th>0</th><th style="text-align:center;">j(1)</th><th style="text-align:center;">a(2)</th><th style="text-align:center;">v(3)</th><th>a(4)</th></tr></thead><tbody><tr><td>h(1)</td><td style="text-align:center;">1</td><td style="text-align:center;">2</td><td style="text-align:center;">3</td><td style="text-align:center;">3</td></tr><tr><td>e(2)</td><td style="text-align:center;">2</td><td style="text-align:center;">2</td><td style="text-align:center;">3</td><td style="text-align:center;">4</td></tr><tr><td>a(3)</td><td style="text-align:center;">3</td><td style="text-align:center;">2</td><td style="text-align:center;">3</td><td style="text-align:center;">3</td></tr><tr><td>v(4)</td><td style="text-align:center;">4</td><td style="text-align:center;">3</td><td style="text-align:center;">2</td><td style="text-align:center;">3</td></tr><tr><td>e(5)</td><td style="text-align:center;">5</td><td style="text-align:center;">4</td><td style="text-align:center;">3</td><td style="text-align:center;">3</td></tr><tr><td>n(6)</td><td style="text-align:center;">6</td><td style="text-align:center;">5</td><td style="text-align:center;">4</td><td style="text-align:center;">4</td></tr></tbody></table>

<h2 id="Demo:">Demo:</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var CalcDistance = function(source, target)&#10;&#123;&#10;    var n = source.length;&#10;    var m = target.length;&#10;    if (m == 0) return n;&#10;    if (n == 0) return m;&#10;    var matrix = [];&#10;    var l = n &#62; m ? n : m;&#10;    for(var i = 0;i &#60;= l;i ++) &#9;&#9;matrix.push([]);&#10;    for (var i = 1; i &#60;= n; i++)&#9;matrix[i][0] = i;&#10;    for (var i = 1; i &#60;= m; i++)&#9;matrix[0][i] = i;&#10;    matrix[0][0] = 0;&#10;&#10;    for (var i = 1; i &#60;= n; i++)&#10;    &#123;&#10;        for (var j = 1; j &#60;= m; j++)&#10;        &#123;&#10;            var cost;&#10;            &#10;            if (source[i - 1] == target[j - 1])&#9;cost = 0;&#10;            else cost = 1;&#10;&#10;            var above = matrix[i - 1][j] + 1;&#10;            var left = matrix[i][j - 1] + 1;&#10;            var diag = matrix[i - 1][j - 1] + cost;&#10;           &#9;matrix[i][j] = Math.min(above, Math.min(left, diag));&#10;        &#125;&#10;    &#125; &#10;    return matrix[n][m];&#10;&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">function Dictionary(words) &#123;&#10;  this.words = words;&#10;&#125;&#10;&#10;Dictionary.prototype.findMostSimilar = function(term) &#123;&#10;   var mi, nu;&#10;   for (var i = 0; i &#60; this.words.length; i++) &#123;&#10;   &#9;  var count = CalcDistance(this.words[i], term);&#10;   &#9;  if(i === 0) &#123;&#9;mi = i,&#9;nu = count;&#125;&#10;   &#9;  else if(nu &#62; count) &#123;mi = i, nu = count;&#125;&#10;   &#125;;&#10;   return(this.words[mi]);&#10;&#125;</span><br></pre></td></tr></table></figure>

            
            <section class="comment">
	<div class="ds-thread"></div>
</section>

<script type="text/javascript">
  var duoshuoQuery = {short_name:"f10"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
    || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script> 
        </div>
    </div>
</article>

    <footer id="footer">
    <div id="bottom-tip">
        Minary —— <small>(　･ิω･ิ)ノิ  ╰(*°▽°*)╯ (❁´▽`❁)</small>
    </div>
        <small>该博客由 <a href="https://hexo.io/" target="_blank">Hexo</a> 强力驱动，搭载 <a href="https://github.com/XadillaX/hexadillax" target="_blank">Hexadillax</a> 主题</small><br />
        <small>&copy; 2014 XadillaX</small>
    </footer>
</body>
</html>
